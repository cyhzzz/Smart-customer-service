# PRD：智能客服系统现代风格页面迁移

> **版本**: v1.0
> **日期**: 2026-02-15
> **作者**: OpenClaw
> **状态**: 待确认

---

## 一、项目背景

### 1.1 现状问题

当前产品原型展示页存在以下问题：

1. **样式切换功能失效**
   - 点击"原始样式"按钮后，页面没有切换到 2017 年的 Axure 原版
   - 原因：`iframe` 的 `src` 路径指向错误

2. **现代风格页面不完整**
   - 目前只有一个现代风格的首页（`modern/modern.html`）
   - 原始版本有 **35 个 HTML 页面**
   - 用户在样机中浏览时，点击任何链接都会跳转到原始版本的页面

### 1.2 项目目标

1. **修复样式切换** - 确保"原始样式"按钮能正确切换到 2017 年的 Axure 原版
2. **完整迁移** - 将所有 35 个原始页面逐一设计并实现为现代风格
3. **保持交互** - 现代风格页面中的所有链接跳转都应保持在现代风格体系内

---

## 二、解决方案

### 2.1 修复样式切换（问题2）

**当前代码问题：**

```javascript
// showcase.html 中的切换逻辑
if (style === 'modern') {
    frame.src = 'modern/modern.html';
} else {
    frame.src = 'modern/demo.html';  // ❌ 错误：应该是原始版本
}
```

**修复方案：**

```javascript
if (style === 'modern') {
    frame.src = 'modern/modern.html';
} else {
    frame.src = '智能客服首页.html';  // ✅ 正确：指向根目录的原始页面
}
```

**影响范围：**
- 仅修改 `index.html` 中的 JavaScript 代码
- 无需创建新文件
- 执行时间：1 分钟

---

### 2.2 完整迁移原始页面（问题3）

#### 2.2.1 原始页面清单

根目录共有 **35 个 HTML 页面**（已排除新的 `index.html`）：

**分类整理：**

| 分类 | 页面数量 | 页面列表 |
|------|---------|---------|
| **首页/引导** | 4 | `start.html`, `智能客服首页.html`, `web引导页面.html`, `招呼.html` |
| **公告相关** | 3 | `公告.html`, `公告全文.html`, `公告与科普图文.html` |
| **交易相关** | 3 | `交易查询.html`, `交易存疑.html`, `动账通知.html` |
| **贷款相关** | 2 | `个贷场景（贷前）.html`, `个贷场景（贷中、贷后）.html` |
| **理财相关** | 2 | `理财场景.html`, `小招理财顾问.html` |
| **工具页面** | 4 | `工具展开页.html`, `工具相关详情页.html`, `展开开户行查询.html`, `开户行查询.html` |
| **账户管理** | 2 | `账户管理费普通版.html`, `账户管理费尊贵版.html` |
| **其他场景** | 4 | `商户.html`, `客户经理卡片.html`, `初次购买.html`, `无帮助.html` |
| **答案/科普** | 3 | `答案页面.html`, `科普.html`, `自助申请.html` |
| **导航/跳转** | 3 | `热门场景.html`, `跳转页面.html`, `下载页面.html` |
| **其他** | 5 | `start_c_1.html`, `start_g_0.html`, `带场景的智能客服.html`, `收支.html`, `短信模板.html` |

#### 2.2.2 迁移策略

**方案A：批量迁移（快速但粗糙）**
- 创建 35 个现代风格页面
- 使用统一的现代设计模板
- 仅保留核心功能和布局
- **优点**：快速完成（1-2天）
- **缺点**：可能丢失部分交互细节

**方案B：精选迁移（推荐）**
- 优先迁移核心页面（首页、公告、交易、贷款、理财等高频页面）
- 保留次要页面为原始样式
- **优点**：兼顾质量和效率
- **缺点**：页面不完全统一

**方案C：完整迁移（高质量）**
- 逐一分析每个原始页面的功能和交互
- 为每个页面设计符合现代风格的版本
- 保持所有链接跳转在现代风格内
- **优点**：完整统一
- **缺点**：耗时长（5-7天）

#### 2.2.3 推荐方案：方案B（精选迁移）

**核心页面优先级：**

**P0（必须迁移）：**
1. `智能客服首页.html` → `modern/index.html`（已存在 `modern.html`）
2. `公告.html` → `modern/公告.html`
3. `交易查询.html` → `modern/交易查询.html`
4. `个贷场景（贷前）.html` → `modern/个贷场景-贷前.html`

**P1（重要迁移）：**
5. `理财场景.html` → `modern/理财场景.html`
6. `工具展开页.html` → `modern/工具展开页.html`
7. `账户管理费普通版.html` → `modern/账户管理费.html`
8. `答案页面.html` → `modern/答案页面.html`

**P2（可选迁移）：**
- 其他 27 个页面保持原始样式
- 或根据实际使用频率决定

---

### 2.3 实施步骤

#### 阶段1：修复样式切换（1分钟）

1. 修改 `index.html` 中的 `switchStyle` 函数
2. 测试切换功能
3. 提交代码

#### 阶段2：迁移核心页面（2-3天）

**Day 1：**
- 分析原始页面结构和功能
- 设计现代风格通用模板
- 迁移 P0 级别页面（4个）

**Day 2：**
- 迁移 P1 级别页面（4个）
- 调整页面间链接跳转
- 测试交互流程

**Day 3：**
- 优化细节和动画
- 测试所有页面
- 文档整理

#### 阶段3：持续优化（可选）

- 根据用户反馈调整
- 逐步迁移 P2 级别页面

---

## 三、技术方案

### 3.1 文件组织

```
modern/
├── modern.html          # 首页（已存在）
├── 公告.html
├── 交易查询.html
├── 个贷场景-贷前.html
├── 理财场景.html
├── 工具展开页.html
├── 账户管理费.html
└── 答案页面.html
```

### 3.2 链接处理

**原始页面链接：**
```html
<a href="公告.html">查看公告</a>
```

**现代风格链接：**
```html
<a href="公告.html" onclick="return switchToModern('公告')">查看公告</a>
```

**JavaScript 逻辑：**
```javascript
function switchToModern(page) {
    const frame = document.getElementById('prototype-frame');
    const currentStyle = getCurrentStyle(); // 'modern' or 'legacy'

    if (currentStyle === 'modern') {
        frame.src = 'modern/' + page + '.html';
        return false; // 阻止默认跳转
    }
    return true; // 允许默认跳转
}
```

### 3.3 样式统一

所有现代风格页面使用统一的设计系统：
- 字体：SF Pro Display
- 配色：黑白灰 + 蓝色
- 布局：移动端优先
- 组件：统一的卡片、按钮、输入框样式

---

## 四、验收标准

### 4.1 样式切换验收

- [ ] 点击"现代样式"按钮，样机显示 `modern/modern.html`
- [ ] 点击"原始样式"按钮，样机显示 `智能客服首页.html`
- [ ] 切换过程流畅，无白屏或闪烁

### 4.2 页面迁移验收

- [ ] P0 级别页面全部迁移完成
- [ ] P1 级别页面全部迁移完成
- [ ] 所有现代风格页面中的链接跳转正确
- [ ] 所有页面在样机中正常显示
- [ ] 页面加载速度 < 1秒

### 4.3 功能验收

- [ ] 页面间导航流畅
- [ ] 表单输入正常
- [ ] 按钮点击响应
- [ ] 页面滚动顺畅

---

## 五、风险评估

### 5.1 技术风险

| 风险 | 影响 | 概率 | 应对措施 |
|------|------|------|---------|
| 原始页面交互复杂 | 高 | 中 | 逐页面分析，保留核心交互 |
| 链接跳转混乱 | 中 | 高 | 统一链接处理逻辑 |
| 样式冲突 | 低 | 低 | 使用命名空间隔离 |

### 5.2 时间风险

| 任务 | 预估时间 | 风险 |
|------|---------|------|
| 修复样式切换 | 1 分钟 | 低 |
| P0 页面迁移 | 1 天 | 中 |
| P1 页面迁移 | 1 天 | 中 |
| 测试优化 | 1 天 | 低 |

---

## 六、待确认事项

请确认以下问题后，我将开始实施：

### 问题1：迁移方案选择

您希望采用哪种迁移方案？

- **A. 批量迁移**（快速完成，35个页面，1-2天）
- **B. 精选迁移**（推荐，8个核心页面，2-3天）
- **C. 完整迁移**（高质量，35个页面，5-7天）

### 问题2：原始版本位置

原始版本（2017年 Axure 导出）的页面应该：

- **A. 保持在根目录**（当前状态）
- **B. 移动到 `legacy/` 目录**
- **C. 移动到 `original/` 目录**

### 问题3：页面命名

现代风格页面的命名方式：

- **A. 保持中文命名**（如 `modern/公告.html`）
- **B. 使用拼音命名**（如 `modern/gonggao.html`）
- **C. 使用英文命名**（如 `modern/announcement.html`）

### 问题4：优先级调整

如果选择方案B，请确认优先级：

- 是否同意 P0（4个页面）+ P1（4个页面）的优先级划分？
- 是否有其他页面需要调整优先级？

---

## 七、时间计划

**确认后执行计划：**

| 阶段 | 任务 | 时间 | 输出 |
|------|------|------|------|
| 阶段1 | 修复样式切换 | 1 分钟 | 可切换的现代/原始样式 |
| 阶段2 | P0 页面迁移 | 1 天 | 4个核心页面 |
| 阶段3 | P1 页面迁移 | 1 天 | 4个重要页面 |
| 阶段4 | 测试优化 | 1 天 | 完整的测试报告 |

**总计：2-3 天**

---

## 八、联系方式

如有疑问，请随时联系：

- **作者**: OpenClaw 🦞
- **飞书**: ou_1429dc53849504be21cd58fe47abe32e

---

**文档结束**

---

**请确认以上 PRD 内容，确认后我将立即开始执行阶段1（修复样式切换）。**
