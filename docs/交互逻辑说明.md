# 智能客服系统 - 交互逻辑说明

> **版本**: v1.0
> **更新时间**: 2026-02-15 13:00
> **作者**: OpenClaw

---

## 一、页面结构

### 1.1 主要页面

| 页面名称 | 文件路径 | 功能说明 |
|---------|---------|---------|
| 产品原型首页 | `/index.html` | 展示页，包含样机切换 |
| 智能客服首页 | `/modern/modern.html` | 现代风格主页面 |
| 公告 | `/modern/公告.html` | 公告详情 |
| 交易查询 | `/modern/交易查询.html` | 交易明细查询 |
| 交易存疑 | `/modern/交易存疑.html` | 交易疑问解答 |
| 个贷场景（贷前） | `/modern/个贷场景-贷前.html` | 贷款申请前咨询 |
| 理财场景 | `/modern/理财场景.html` | 理财产品介绍 |
| 工具展开页 | `/modern/工具展开页.html` | 更多工具 |
| 开户行查询 | `/modern/开户行查询.html` | 开户行查询 |
| 账户管理费 | `/modern/账户管理费.html` | 账户费用说明 |
| 答案页面 | `/modern/答案页面.html` | 通用答案展示 |

### 1.2 辅助页面

所有其他页面都是基于通用模板创建的，功能正在完善中。

---

## 二、交互逻辑

### 2.1 样式切换（产品原型首页）

**功能描述**：在"现代样式"和"原始样式"之间切换

**实现方式**：
```javascript
function switchStyle(style) {
    const frame = document.getElementById('prototype-frame');
    if (style === 'modern') {
        frame.src = 'modern/modern.html';
    } else {
        frame.src = '智能客服首页.html';
    }
}
```

**测试用例**：
- [ ] 点击"现代样式"按钮，显示现代风格页面
- [ ] 点击"原始样式"按钮，显示原始风格页面
- [ ] 切换过程流畅无闪烁

---

### 2.2 智能客服首页 - 公告

**跳转逻辑**：公告横幅 → 公告详情页

**实现方式**：
```html
<div onclick="window.location.href='公告.html'" class="...">
```

**测试用例**：
- [ ] 点击公告横幅，跳转到公告详情页
- [ ] 公告详情页正常显示
- [ ] 点击返回按钮，返回首页

---

### 2.3 智能客服首页 - 快捷功能区

**跳转逻辑**：

| 按钮名称 | 跳转目标 | 实现状态 |
|---------|---------|---------|
| 网点查询 | 待定 | ⏳ |
| 开户行查询 | `开户行查询.html` | ✅ |
| 转账进度 | `答案页面.html` | ✅ |
| 账户管理费 | `账户管理费.html` | ✅ |
| 更多 | `工具展开页.html` | ✅ |

**测试用例**：
- [ ] 点击"开户行查询"，跳转到开户行查询页面
- [ ] 点击"转账进度"，跳转到答案页面
- [ ] 点击"账户管理费"，跳转到账户管理费页面
- [ ] 点击"更多"，跳转到工具展开页

---

### 2.4 智能客服首页 - 我关心的

**跳转逻辑**：

#### 我的转账
| 问题 | 跳转目标 | 实现状态 |
|-----|---------|---------|
| 转账汇款到账时间？ | `答案页面.html` | ✅ |
| 手机银行转账汇款手续费全免吗？ | `答案页面.html` | ✅ |

#### 我的贷款
| 问题 | 跳转目标 | 实现状态 |
|-----|---------|---------|
| "闪电贷"电核放款说明 | `答案页面.html` | ✅ |
| "闪电贷"新系统平台上线 | `答案页面.html` | ✅ |

#### 我的交易
| 问题 | 跳转目标 | 实现状态 |
|-----|---------|---------|
| 如何查询13个月前的交易明细？ | `交易查询.html` | ✅ |
| 对最近的交易有疑问？ | `交易存疑.html` | ✅ |

#### 我的基金
| 问题 | 跳转目标 | 实现状态 |
|-----|---------|---------|
| 什么时候可以打印申购确认书？ | `答案页面.html` | ✅ |
| 赎回资金的到账时间在哪里查询？ | `答案页面.html` | ✅ |

#### 我的理财
| 问题 | 跳转目标 | 实现状态 |
|-----|---------|---------|
| 哪些账户可以申请快易理财？ | `答案页面.html` | ✅ |
| 快易理财转账如何办理？ | `答案页面.html` | ✅ |

**测试用例**：
- [ ] 点击"转账汇款到账时间？"，跳转到答案页面
- [ ] 点击"如何查询13个月前的交易明细？"，跳转到交易查询页面
- [ ] 点击"对最近的交易有疑问？"，跳转到交易存疑页面
- [ ] 所有问题按钮都可以正常跳转

---

### 2.5 二级页面 - 返回逻辑

**实现方式**：
```html
<a href="modern.html" class="btn-back">
    <i class="fas fa-arrow-left"></i>
    返回首页
</a>
```

或

```html
<a href="javascript:history.back()" class="btn-back">
    <i class="fas fa-arrow-left"></i>
    返回
</a>
```

**测试用例**：
- [ ] 公告页面点击"返回首页"，返回智能客服首页
- [ ] 交易查询页面点击"返回"，返回上一页
- [ ] 所有二级页面的返回按钮都能正常工作

---

### 2.6 交易查询页面 - 帮助链接

**跳转逻辑**：

| 链接文字 | 跳转目标 | 实现状态 |
|---------|---------|---------|
| 对最近的交易有疑问？ | `交易存疑.html` | ✅ |
| 如何查询13个月前的交易明细？ | `答案页面.html` | ✅ |

**测试用例**：
- [ ] 点击"对最近的交易有疑问？"，跳转到交易存疑页面
- [ ] 点击"如何查询13个月前的交易明细？"，跳转到答案页面

---

### 2.7 个贷场景页面 - 贷款产品

**跳转逻辑**：

| 产品名称 | 跳转目标 | 实现状态 |
|---------|---------|---------|
| 闪电贷 | 申请页面（待实现） | ⏳ |
| 住房贷款 | 申请页面（待实现） | ⏳ |
| 汽车贷款 | 申请页面（待实现） | ⏳ |

**测试用例**：
- [ ] 点击"立即申请"按钮，触发提示
- [ ] 未来应跳转到对应的申请页面

---

### 2.8 个贷场景页面 - 常见问题

**跳转逻辑**：

| 问题 | 跳转目标 | 实现状态 |
|-----|---------|---------|
| 贷款需要哪些资料？ | `答案页面.html` | ✅ |
| 贷款审批需要多长时间？ | `答案页面.html` | ✅ |
| "闪电贷"电核放款说明 | `答案页面.html` | ✅ |
| "闪电贷"新系统平台上线 | `答案页面.html` | ✅ |
| 咨询客户经理 | `客户经理卡片.html` | ✅ |

**测试用例**：
- [ ] 所有常见问题都可以跳转到对应页面

---

### 2.9 工具展开页 - 工具列表

**跳转逻辑**：

| 工具名称 | 跳转目标 | 实现状态 |
|---------|---------|---------|
| 开户行查询 | `开户行查询.html` | ✅ |
| 账户管理费 | `账户管理费.html` | ✅ |
| 转账进度 | `答案页面.html` | ✅ |
| 网点查询 | `答案页面.html` | ✅ |
| 自助申请 | `自助申请.html` | ✅ |
| 动账通知 | `答案页面.html` | ✅ |

**测试用例**：
- [ ] 所有工具卡片都可以正常跳转

---

## 三、测试清单

### 3.1 首页测试

- [ ] 页面可以正常加载
- [ ] 公告横幅可以点击
- [ ] 5个快捷功能按钮可以点击
- [ ] 10个"我关心的"问题可以点击

### 3.2 二级页面测试

- [ ] 公告页面可以正常显示
- [ ] 交易查询页面可以正常显示
- [ ] 个贷场景页面可以正常显示
- [ ] 理财场景页面可以正常显示
- [ ] 工具展开页可以正常显示
- [ ] 答案页面可以正常显示
- [ ] 账户管理费页面可以正常显示

### 3.3 跳转逻辑测试

- [ ] 所有按钮点击后可以跳转
- [ ] 所有返回按钮可以正常工作
- [ ] 页面间跳转流畅
- [ ] URL 地址正确

### 3.4 样式测试

- [ ] 所有页面样式统一
- [ ] 响应式布局正常
- [ ] 动画效果流畅
- [ ] 字体和颜色一致

---

## 四、已知问题

### 4.1 待实现功能

1. **网点查询** - 需要集成地图功能
2. **贷款申请** - 需要跳转到申请页面
3. **购买理财产品** - 需要跳转到购买页面
4. **客户经理卡片** - 需要完善内容

### 4.2 待优化项

1. **P2 页面内容** - 部分页面使用通用模板，需要完善
2. **错误处理** - 跳转失败时的提示
3. **加载状态** - 页面加载时的等待提示
4. **数据展示** - 部分页面需要真实数据

---

## 五、技术实现

### 5.1 跳转方式

**方式1：onclick 事件（推荐）**
```html
<button onclick="window.location.href='答案页面.html'">跳转</button>
```

**方式2：a 标签**
```html
<a href="答案页面.html">跳转</a>
```

**方式3：JavaScript**
```javascript
window.location.href = '答案页面.html';
```

### 5.2 iframe 注意事项

在 iframe 中跳转时：
- `window.location.href` 会在 iframe 内跳转
- `parent.location.href` 会在父窗口跳转
- `top.location.href` 会在最顶层窗口跳转

本项目使用 `window.location.href`，确保在 iframe 内跳转。

---

## 六、更新日志

### v1.0 (2026-02-15 13:00)

- 创建交互逻辑文档
- 整理所有页面和跳转关系
- 添加测试清单
- 记录已知问题

---

**文档状态**: 初稿完成
**下一步**: 完善测试并修复问题
